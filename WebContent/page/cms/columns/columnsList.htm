<#import "../../macro/macrocommon.htm" as common>
<#import "../../macro/paginationCommon.htm" as pagination>
<@common.header/>
<div class="current">
 <span class="place">首页> >栏目信息列表 </span>
	<ul>
		<li><input type="button" id="buttonimport" class="buttons" value="批量创建" onclick="adddatas()" /></li>	
		<li><input type="button" id="buttonforbidden" class="buttons" value="禁用" onclick="jsdeletes()" /></li>	
		<li><input type="button" id="buttonadd" class="buttons" value="增加" onclick="addInfor()" /></li>
	</ul>
</div>
<form id="commonform" action="?action=list" method="post">
<input type="hidden" id="sortfield" name="sortfield" value="${sortfield?default('')}" />
<input type="hidden" id="sortvalue" name="sortvalue" value="${sortvalue?default('')}" />
<input type='hidden' id='page' name='page' value='${page.pageIndex?c}' />
<table  cellSpacing=1 cellPadding=2 width="100%" align=center bgColor=#cccccc border=0 class="tab">
<tr>
<td bgColor=#f8f8f8 height=22 width=60>筛选条件</td>
<td bgColor=#f8f8f8>栏目名称：<input id="tname" class="txtinput" name="tname" value="${tname?default('')}"></td>
<td bgColor=#f8f8f8 width=60><input type="image" id="ImageButton1" src="theme/defaultstyle/images/search.gif" onclick="searchSubmit()"	border="0" /></td>
</tr>
</table>
</form>
<table cellSpacing=1 cellPadding=2 width="100%" align=center bgColor=#cccccc border=0 class="tab">
<thead>
<tr>
<td width=20 ><input type="checkbox" name="allbox" value="checkbox"	onClick="selectAll(this.checked)" /></td>
<td onclick="resetSort('tname')" style="cursor:pointer;">栏目名称<span id="sorttname"></span></td>
<td onclick="resetSort('sortCode')" style="cursor:pointer;">序号<span id="sortsortCode"></span></td>
<td onclick="resetSort('auditState')" style="cursor:pointer;">审核状态<span id="sortauditState"></span></td>
<td onclick="resetSort('valid')" style="cursor:pointer;">状态<span id="sortvalid"></span></td>
</tr>
</thead><tbody>
<#list list as obj>
<tr >
<td width=20 ><input type="checkbox" name="box" value="${obj.id?default('')}"/></td>
<td align="left"><a href="#" onclick="readInfor('${obj.id}')">${obj.tname?default('')}</a></td>
<td align="center" width=60>${obj.sortCode?c}</td>
<td align="center" width=60><a href='javascript:void(0)' id="${obj.id?default('')}" onClick="updateBaseObject(this,${obj.auditState?string('false','true')})" name=auditState> ${obj.auditState?string('启用','禁用')}</a></td>
<td align="center" width=60><a href='javascript:void(0)' id="${obj.id?default('')}" onClick="updateBaseObject(this,${obj.valid?string('false','true')})" name=valid> ${obj.valid?string('启用','禁用')}</a></td>
</tr>
<#list obj.subset as sub1obj>
<tr>
<td width=20 ><input type="checkbox" name="box" value="${sub1obj.id?default('')}"/></td>
<td align="left"><a href="#" onclick="readInfor('${sub1obj.id}')">&nbsp;&nbsp;--${sub1obj.tname?default('')}</a></td>
<td align="center" width=60>${sub1obj.sortCode?c}</td>
<td align="center" width=60><a href='javascript:void(0)' id="${sub1obj.id?default('')}" onClick="updateBaseObject(this,${sub1obj.auditState?string('false','true')})" name=auditState> ${sub1obj.auditState?string('启用','禁用')}</a></td>
<td align="center" width=60><a href='javascript:void(0)' id="${sub1obj.id?default('')}" onClick="updateBaseObject(this,${sub1obj.valid?string('false','true')})" name=valid> ${sub1obj.valid?string('启用','禁用')}</a></td>
</tr>
<#list sub1obj.subset as sub2obj>
<tr >
<td width=20 ><input type="checkbox" name="box" value="${sub2obj.id?default('')}"/></td>
<td align="left"><a href="#" onclick="readInfor('${sub2obj.id}')">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--${sub2obj.tname?default('')}</a></td>
<td align="center" width=60>${sub2obj.sortCode?c}</td>
<td align="center" width=60><a href='javascript:void(0)' id="${sub2obj.id?default('')}" onClick="updateBaseObject(this,${sub2obj.auditState?string('false','true')})" name=auditState> ${sub2obj.auditState?string('启用','禁用')}</a></td>
<td align="center" width=60><a href='javascript:void(0)' id="${sub2obj.id?default('')}" onClick="updateBaseObject(this,${sub2obj.valid?string('false','true')})" name=valid> ${sub2obj.valid?string('启用','禁用')}</a></td>
</tr>
<#list sub2obj.subset as sub3obj>
<tr >
<td width=20 ><input type="checkbox" name="box" value="${sub3obj.id?default('')}"/></td>
<td align="left"><a href="#" onclick="readInfor('${sub3obj.id}')">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--${sub3obj.tname?default('')}</a></td>
<td align="center" width=60>${sub3obj.sortCode?c}</td>
<td align="center" width=60><a href='javascript:void(0)' id="${sub3obj.id?default('')}" onClick="updateBaseObject(this,${sub3obj.auditState?string('false','true')})" name=auditState> ${sub3obj.auditState?string('启用','禁用')}</a></td>
<td align="center" width=60><a href='javascript:void(0)' id="${sub3obj.id?default('')}" onClick="updateBaseObject(this,${sub3obj.valid?string('false','true')})" name=valid> ${sub3obj.valid?string('启用','禁用')}</a></td>
</tr>
</#list>
</#list>
</#list>
</#list>
</tbody>
</table>
<@common.bottom/>
<script type="text/javascript">
var curaction="?action=list"; 
initSort();
function adddatas(){
	document.getElementById("commonform").action="?action=listColumns";
	document.getElementById("commonform").submit();
}
</script>
